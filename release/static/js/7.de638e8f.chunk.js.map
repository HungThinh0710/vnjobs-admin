{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","reusable/Config.js","reusable/UseLocalStorage.js","views/pages/login/Login.js"],"names":["module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ENDPOINT","DOMAIN","LIST_ORGANIZATION","LIST_MAJOR","LIST_JOBSEEKER","LIST_RECRUITMENTNEWS","LIST_USER","COUNT_ORGANIZATION","COUNT_MAJOR","COUNT_JOBSEEKER","COUNT_RECRUITMENTNEWS","CHECK_VALID_TOKEN","LOGIN","useLocalStorage","initialValue","prefixedKey","useState","jsonValue","localStorage","getItem","JSON","parse","setValue","useEffect","setItem","stringify","Login","props","email","setEmail","password","setPassword","msgError","setMsgError","isLogged","setIsLogged","localLoginStatus","setLocalLoginStatus","login","isValid","length","validateInfo","axios","post","Config","withCredentials","a","response","status","catch","console","log","cancelTokenSource","CancelToken","source","cancelToken","token","cancel","to","className","md","name","type","onChange","e","target","placeholder","autoComplete","xs","onClick","color","style","width"],"mappings":"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","file":"static/js/7.de638e8f.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const DOMAIN = 'https://api.vnjob.work'; // productions\r\n// const DOMAIN = 'http://127.0.0.1:8000';\r\nconst ENDPOINT = DOMAIN + '/api/admin/v1';\r\nexport const LIST_ORGANIZATION = ENDPOINT + '/organizations';\r\nexport const LIST_MAJOR = ENDPOINT + '/majors';\r\nexport const LIST_JOBSEEKER = ENDPOINT + '/job-seekers';\r\nexport const LIST_RECRUITMENTNEWS = ENDPOINT + '/recruitment-news';\r\nexport const LIST_USER = ENDPOINT + '/user';\r\n\r\nexport const COUNT_ORGANIZATION = LIST_ORGANIZATION + '-count';\r\nexport const COUNT_MAJOR = LIST_MAJOR + '-count';\r\nexport const COUNT_JOBSEEKER = LIST_JOBSEEKER + '-count';\r\nexport const COUNT_RECRUITMENTNEWS = LIST_RECRUITMENTNEWS + '-count';\r\n\r\nexport const CHECK_VALID_TOKEN = ENDPOINT + '/token';\r\nexport const LOGIN = ENDPOINT + '/auth/login';\r\nexport const LOGOUT = ENDPOINT +  '/logout';","import { useEffect, useState } from \"react\";\r\n\r\nconst useLocalStorage = (key, initialValue) => {\r\n    const prefixedKey = key;\r\n    const [value, setValue] = useState(() => {\r\n        const jsonValue = localStorage.getItem(prefixedKey);\r\n        if (jsonValue != null) return JSON.parse(jsonValue);\r\n\r\n        if (typeof initialValue === \"function\") {\r\n            return initialValue();\r\n        } else {\r\n            return initialValue;\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(prefixedKey, JSON.stringify(value));\r\n    }, [prefixedKey, value]);\r\n\r\n    return [value, setValue];\r\n};\r\n\r\nexport default useLocalStorage;","import React, {useState, useEffect} from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardGroup,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CInput,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CRow,\r\n  CFormText\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport axios from 'axios';\r\nimport useLocalStorage from '../../../reusable/UseLocalStorage';\r\nimport * as Config from '../../../reusable/Config';\r\n\r\nconst Login = (props) => {\r\n  const [email, setEmail] = useState(\"admin@gg.cc\");\r\n  const [password, setPassword] = useState(\"123123\");\r\n  const [data, setData] = useState([]);\r\n  const [msgError, setMsgError] = useState(\"\");\r\n  const [isLogged, setIsLogged] = useState(false);\r\n  const [localLoginStatus, setLocalLoginStatus] = useLocalStorage(\"is_logged\", false);\r\n\r\n  const validateInfo = () => {\r\n    let isValid = true;\r\n    if (email.length <= 0 || password.length <= 0) {\r\n      isValid = false;\r\n      setMsgError(\"Email & Password are require.\");\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  const login = () => {\r\n    const isValid = validateInfo();\r\n    if (isValid) {\r\n      setMsgError(\"\");\r\n      axios.post(Config.LOGIN, {\r\n        email: email,\r\n        password: password,\r\n      }, { withCredentials: true })\r\n        .then(async function (response) {\r\n          if (response.status == 200) {\r\n            // localStorage.setItem('admin_token', response.data.access_token);\r\n            setLocalLoginStatus(true);\r\n            setIsLogged(true);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"LOGIN: FAILED\");\r\n          // console.log(error);\r\n          console.log(typeof (error.response));\r\n          if (typeof (error.response) != 'undefined') {\r\n            switch (error.response.status) {\r\n              case 422:\r\n                setMsgError(\"Your email or password are invalid\")\r\n                setPassword(\"\");\r\n                break;\r\n              case 401:\r\n                setMsgError(\"Email or Password are wrong!\");\r\n                setPassword(\"\");\r\n                break;\r\n              case 500:\r\n                setMsgError(\"Server error! Please try again later\");\r\n                setPassword(\"\");\r\n                break;\r\n              default:\r\n                setMsgError(\"Unkwown error! Please try again later\");\r\n                setPassword(\"\");\r\n                break;\r\n            }\r\n          }\r\n          else {\r\n            setMsgError(\"Network error!\");\r\n            setPassword(\"\");\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(\"RUNNED\");\r\n    const cancelTokenSource = axios.CancelToken.source();\r\n\r\n    console.log(\"hi\");\r\n    console.log(localLoginStatus);\r\n    if (localLoginStatus) {\r\n      axios.post(Config.CHECK_VALID_TOKEN, null,\r\n        {\r\n          withCredentials: true,\r\n          cancelToken: cancelTokenSource.token\r\n        })\r\n        .then(async function (response) {\r\n          if (response.status == 200) {\r\n            console.log(\" HAHAHAHAHA SUCCESS | NEED NAV LINK TO HOME\");\r\n            setIsLogged(true);\r\n            setLocalLoginStatus(true);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"Still do not signed in\");\r\n        });\r\n    }\r\n    return () => cancelTokenSource.cancel();\r\n  }, [isLogged]);\r\n\r\n  return isLogged ? (<Redirect to='/dashboard' />)\r\n    : (\r\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\r\n      <CContainer>\r\n        <CRow className=\"justify-content-center\">\r\n          <CCol md=\"8\">\r\n            <CCardGroup>\r\n              <CCard className=\"p-4\">\r\n                <CCardBody>\r\n                  <CForm>\r\n                    <h1>Login</h1>\r\n                    <p className=\"text-muted\">Sign In to your account</p>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupPrepend>\r\n                        <CInputGroupText>\r\n                          <CIcon name=\"cil-user\" />\r\n                        </CInputGroupText>\r\n                      </CInputGroupPrepend>\r\n                      <CInput type=\"email\" value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Email\" autoComplete=\"email\" />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-2\">\r\n                      <CInputGroupPrepend>\r\n                        <CInputGroupText>\r\n                          <CIcon name=\"cil-lock-locked\" />\r\n                        </CInputGroupText>\r\n                      </CInputGroupPrepend>\r\n                      <CInput type=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" autoComplete=\"current-password\" />\r\n                    </CInputGroup>\r\n                    <div className=\"mb-4\">\r\n                      <span className=\"small text-danger help-block\">{msgError}</span>\r\n                    </div>\r\n                    \r\n                    <CRow>\r\n                      <CCol xs=\"6\">\r\n                        <CButton onClick={() => login()} color=\"primary\" className=\"px-4\">Login</CButton>\r\n                      </CCol>\r\n                      <CCol xs=\"6\" className=\"text-right\">\r\n                        <CButton color=\"link\" className=\"px-0\">Forgot password?</CButton>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CForm>\r\n                </CCardBody>\r\n              </CCard>\r\n              <CCard className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\r\n                <CCardBody className=\"text-center\">\r\n                  <div>\r\n                    <h2>Sign in</h2>\r\n                    <p>Sign in to using the management system.</p>\r\n                  </div>\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCardGroup>\r\n          </CCol>\r\n        </CRow>\r\n      </CContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"sourceRoot":""}